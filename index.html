<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!--  ??  -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mont Blanc cameras</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
   
    <script src="script.js" async></script>
</head>

<body>
    <div class="gallery">
      <img id="gouter-photo" src="" alt="Gouter photo">
      <div class="navigation">
            <button id="gouter-prev-hour">Previous</button>
            <button id="gouter-next-hour">Next</button>
            <button id="gouter-prev-day">Previous</button>
            <button id="gouter-next-day">Next</button>
            <button id="gouter-prev-month">Previous</button>
            <button id="gouter-next-month">Next</button>
            <button id="gouter-prev-year">Previous</button>
            <button id="gouter-next-year">Next</button>
        </div>
    </div>
  
    <div class="gallery">
        <img id="tete-rousse-photo" src="" alt="Tete Rousse photo">
        <div class="navigation">
            <button id="tete-rousse-prev-hour">Previous</button>
            <button id="tete-rousse-next-hour">Next</button>
            <button id="tete-rousse-prev-day">Previous</button>
            <button id="tete-rousse-next-day">Next</button>
            <button id="tete-rousse-prev-month">Previous</button>
            <button id="tete-rousse-next-month">Next</button>
            <button id="tete-rousse-prev-year">Previous</button>
            <button id="tete-rousse-next-year">Next</button>
        </div>
    </div>

    <script>
      const base_url = 'https://raw.githubusercontent.com/blato122/mont-blanc-cam/main/gouter/';
  
      let date = new Date();
      let current_year = date.getFullYear();
      let current_month = date.getMonth() + 1; // months are 0-indexed
      let current_day = date.getDate();
      let current_hour = (date.getHours() < 10) ? ("0" + date.getHours()) : date.getHours();
  
      let img_element = document.getElementById('gouter-photo');
      let prev_hour_button = document.getElementById('gouter-prev-hour');
      let next_hour_button = document.getElementById('gouter-next-hour');
  
      function update_photo() {
        let img_url = `${base_url}${current_year}/${current_month}/${current_day}/${current_hour}.jpg`;
        console.log(img_url)
        img_element.src = img_url;
      }
  
      function update_hour(delta) {
        date.setHours(date.getHours() + delta);
        current_year = date.getFullYear();
        current_month = date.getMonth() + 1; // months are 0-indexed
        current_day = date.getDate();
        current_hour = (date.getHours() < 10) ? ("0" + date.getHours()) : date.getHours(); // redundant all od this
        update_photo();
      }
  
      prev_hour_button.addEventListener('click', () => {
        update_hour(-1);
      });
  
      next_hour_button.addEventListener('click', () => { // ale cool! można godzinami przechodzić między dniami!!! ale zmienić że jak się zmniejsza na 7
        // czy tam 6, to przenosi na ostanią godzinę poprzedniego dnia czyli 21 lib 22, nwm
        // całkiem ez to 

        // no i blokować dalsze przesuwanie jak już nie ma zdjęć!! żeby nie wychodzić coraz dalej za zakres!
        // i dać przycisk powrotu do bieżącej daty :))))))
        update_hour(1);
      });
  
      // Initial update
      update_photo();
    </script>
  </body>

</html>